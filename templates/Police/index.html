{% extends 'Pbase.html' %}

{% block title %}Police Dashboard{% endblock %}

{% block content %}
    <div class="container mx-auto px-4 mt-20">
        <h2 class="text-2xl font-bold mb-4 dark:text-white">Dashboard Overview</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- CCTV Feeds Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">CCTV Feeds</h3>
                <p class="text-gray-600 dark:text-gray-300">12 active feeds, 2 anomalies detected</p>
                <a href="/police/cctv-feeds" class="text-primary hover:underline mt-2 inline-block">View Details</a>
            </div>

            <!-- Crime Heatmap Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">Crime Heatmap</h3>
                <p class="text-gray-600 dark:text-gray-300">3 high-activity zones identified</p>
                <a href="/police/crime-heatmap" class="text-primary hover:underline mt-2 inline-block">View Map</a>
            </div>

            <!-- SOS Notifications Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">SOS Notifications</h3>
                <p class="text-gray-600 dark:text-gray-300">2 active SOS requests</p>
                <a href="/police/sos-notifications" class="text-primary hover:underline mt-2 inline-block">View Requests</a>
            </div>

            <!-- Incident Alerts Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">Incident Alerts</h3>
                <p class="text-gray-600 dark:text-gray-300">5 new incidents reported</p>
                <a href="/police/incident-alerts" class="text-primary hover:underline mt-2 inline-block">View Alerts</a>
            </div>

            <!-- Offender Database Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">Offender Database</h3>
                <p class="text-gray-600 dark:text-gray-300">1,234 records, last updated 2 hours ago</p>
                <a href="/police/offender-database" class="text-primary hover:underline mt-2 inline-block">Search Database</a>
            </div>

            <!-- Report Verification Summary -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold mb-2 dark:text-white">Report Verification</h3>
                <p class="text-gray-600 dark:text-gray-300">8 reports pending verification</p>
                <a href="/police/report-verification" class="text-primary hover:underline mt-2 inline-block">View Queue</a>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            const sidebarToggle = document.getElementById('sidebarToggle');
            const darkModeToggle = document.getElementById('darkModeToggle');
            
            function updateMainContentMargin() {
                if (sidebar.classList.contains('collapsed')) {
                    mainContent.style.marginLeft = '64px';
                } else {
                    mainContent.style.marginLeft = '250px';
                }
            }

            // Initial margin
            updateMainContentMargin();

            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
                sidebar.classList.toggle('expanded');
                updateMainContentMargin();
            });

            // Dark mode toggle
            darkModeToggle.addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
                const isDarkMode = document.documentElement.classList.contains('dark');
                localStorage.setItem('darkMode', isDarkMode);
                darkModeToggle.innerHTML = isDarkMode ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            });

            // Check for saved dark mode preference
            if (localStorage.getItem('darkMode') === 'true') {
                document.documentElement.classList.add('dark');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
        });
    </script>
{% endblock %}
